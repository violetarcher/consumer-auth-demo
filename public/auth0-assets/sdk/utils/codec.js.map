{"version":3,"file":"codec.js","sources":["../../../src/utils/codec.ts"],"sourcesContent":["export function base64UrlToUint8Array(base64Url: string): ArrayBuffer {\n  if (!base64Url || typeof base64Url !== 'string') {\n    throw new TypeError('Invalid base64Url input');\n  }\n\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const paddingNeeded = (4 - (base64.length % 4)) % 4;\n  const paddedBase64 = base64 + '='.repeat(paddingNeeded);\n  const binaryString = atob(paddedBase64);\n  const uint8Array = new Uint8Array(binaryString.length);\n\n  for (let i = 0; i < binaryString.length; i++) {\n    uint8Array[i] = binaryString.charCodeAt(i);\n  }\n\n  return uint8Array.buffer;\n}\n\nexport function uint8ArrayToBase64Url(arraybuffer: ArrayBufferLike): string {\n  if (!(arraybuffer instanceof ArrayBuffer)) {\n    throw new TypeError('Expected an ArrayBuffer');\n  }\n\n  const bytes = new Uint8Array(arraybuffer);\n  let binary = '';\n\n  for (const byte of bytes) {\n    binary += String.fromCharCode(byte);\n  }\n\n  // Convert to Base64\n  const base64 = btoa(binary)\n    .replace(/\\+/g, '-') // Convert '+' to '-'\n    .replace(/\\//g, '_') // Convert '/' to '_'\n    .replace(/=+$/, ''); // Remove padding '='\n\n  return base64;\n}\n"],"names":["base64UrlToUint8Array","base64Url","TypeError","base64","replace","paddingNeeded","length","paddedBase64","repeat","binaryString","atob","uint8Array","Uint8Array","i","charCodeAt","buffer","uint8ArrayToBase64Url","arraybuffer","ArrayBuffer","bytes","binary","byte","String","fromCharCode","btoa"],"mappings":"AAAM,SAAUA,EAAsBC,GACpC,IAAKA,GAAkC,iBAAdA,EACvB,MAAM,IAAIC,UAAU,2BAGtB,MAAMC,EAASF,EAAUG,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KACpDC,GAAiB,EAAKF,EAAOG,OAAS,GAAM,EAC5CC,EAAeJ,EAAS,IAAIK,OAAOH,GACnCI,EAAeC,KAAKH,GACpBI,EAAa,IAAIC,WAAWH,EAAaH,QAE/C,IAAK,IAAIO,EAAI,EAAGA,EAAIJ,EAAaH,OAAQO,IACvCF,EAAWE,GAAKJ,EAAaK,WAAWD,GAG1C,OAAOF,EAAWI,MACpB,CAEM,SAAUC,EAAsBC,GACpC,KAAMA,aAAuBC,aAC3B,MAAM,IAAIhB,UAAU,2BAGtB,MAAMiB,EAAQ,IAAIP,WAAWK,GAC7B,IAAIG,EAAS,GAEb,IAAK,MAAMC,KAAQF,EACjBC,GAAUE,OAAOC,aAAaF,GAShC,OALeG,KAAKJ,GACjBhB,QAAQ,MAAO,KACfA,QAAQ,MAAO,KACfA,QAAQ,MAAO,GAGpB"}