{"version":3,"file":"transaction-override.js","sources":["../../../../src/screens/login-id/transaction-override.ts"],"sourcesContent":["import { ConnectionStrategy, Identifiers } from '../../../src/constants';\nimport { Transaction } from '../../../src/models/transaction';\nimport {\n  isUsernameRequired,\n  getUsernamePolicy,\n  getAllowedIdentifiers,\n  isSignupEnabled,\n  isForgotPasswordEnabled,\n  isPasskeyEnabled,\n} from '../../shared/transaction';\n\nimport type { TransactionContext } from '../../../interfaces/models/transaction';\nimport type { TransactionMembersOnLoginId as OverrideMembers } from '../../../interfaces/screens/login-id';\n\nexport class TransactionOverride extends Transaction implements OverrideMembers {\n  isSignupEnabled: OverrideMembers['isSignupEnabled'];\n  isForgotPasswordEnabled: OverrideMembers['isForgotPasswordEnabled'];\n  isPasskeyEnabled: OverrideMembers['isPasskeyEnabled'];\n  isUsernameRequired: OverrideMembers['isUsernameRequired'];\n  usernamePolicy: OverrideMembers['usernamePolicy'];\n  allowedIdentifiers: OverrideMembers['allowedIdentifiers'];\n\n  constructor(transactionContext: TransactionContext) {\n    super(transactionContext);\n    this.isSignupEnabled = isSignupEnabled(transactionContext);\n    this.isForgotPasswordEnabled = isForgotPasswordEnabled(transactionContext);\n    this.isPasskeyEnabled = isPasskeyEnabled(transactionContext);\n    this.isUsernameRequired = isUsernameRequired(transactionContext);\n    this.usernamePolicy = getUsernamePolicy(transactionContext);\n    this.allowedIdentifiers = TransactionOverride.getAllowedIdentifiers(transactionContext, this.connectionStrategy);\n  }\n\n  static getAllowedIdentifiers(transactionContext: TransactionContext, connectionStrategy: string | null): OverrideMembers['allowedIdentifiers'] {\n    if (connectionStrategy === ConnectionStrategy.SMS) return [Identifiers.PHONE];\n    if (connectionStrategy === ConnectionStrategy.EMAIL) return [Identifiers.EMAIL];\n    return getAllowedIdentifiers(transactionContext);\n  }\n}\n"],"names":["TransactionOverride","Transaction","isSignupEnabled","isForgotPasswordEnabled","isPasskeyEnabled","isUsernameRequired","usernamePolicy","allowedIdentifiers","constructor","transactionContext","super","this","getUsernamePolicy","getAllowedIdentifiers","connectionStrategy","ConnectionStrategy","SMS","Identifiers","PHONE","EMAIL"],"mappings":"8XAcM,MAAOA,UAA4BC,EACvCC,gBACAC,wBACAC,iBACAC,mBACAC,eACAC,mBAEA,WAAAC,CAAYC,GACVC,MAAMD,GACNE,KAAKT,gBAAkBA,EAAgBO,GACvCE,KAAKR,wBAA0BA,EAAwBM,GACvDE,KAAKP,iBAAmBA,EAAiBK,GACzCE,KAAKN,mBAAqBA,EAAmBI,GAC7CE,KAAKL,eAAiBM,EAAkBH,GACxCE,KAAKJ,mBAAqBP,EAAoBa,sBAAsBJ,EAAoBE,KAAKG,oBAG/F,4BAAOD,CAAsBJ,EAAwCK,GACnE,OAAIA,IAAuBC,EAAmBC,IAAY,CAACC,EAAYC,OACnEJ,IAAuBC,EAAmBI,MAAc,CAACF,EAAYE,OAClEN,EAAsBJ"}