{"version":3,"file":"transaction-override.js","sources":["../../../../src/screens/login/transaction-override.ts"],"sourcesContent":["import { ConnectionStrategy, Identifiers } from '../../../src/constants';\nimport { Transaction } from '../../models/transaction';\nimport { isSignupEnabled, isForgotPasswordEnabled, isPasskeyEnabled, getPasswordPolicy, getAllowedIdentifiers } from '../../shared/transaction';\n\nimport type { TransactionContext } from '../../../interfaces/models/transaction';\nimport type { TransactionMembersOnLogin as OverrideOptions } from '../../../interfaces/screens/login';\n\n/**\n * Login transaction override implementation\n */\nexport class TransactionOverride extends Transaction implements OverrideOptions {\n  isSignupEnabled: OverrideOptions['isSignupEnabled'];\n  isForgotPasswordEnabled: OverrideOptions['isForgotPasswordEnabled'];\n  isPasskeyEnabled: OverrideOptions['isPasskeyEnabled'];\n  passwordPolicy: OverrideOptions['passwordPolicy'];\n  allowedIdentifiers: OverrideOptions['allowedIdentifiers'];\n\n  constructor(transactionContext: TransactionContext) {\n    super(transactionContext);\n    this.isSignupEnabled = isSignupEnabled(transactionContext);\n    this.isForgotPasswordEnabled = isForgotPasswordEnabled(transactionContext);\n    this.isPasskeyEnabled = isPasskeyEnabled(transactionContext);\n    this.passwordPolicy = getPasswordPolicy(transactionContext);\n    this.allowedIdentifiers = TransactionOverride.getAllowedIdentifiers(transactionContext, this.connectionStrategy);\n  }\n\n  static getAllowedIdentifiers(transactionContext: TransactionContext, connectionStrategy: string | null): OverrideOptions['allowedIdentifiers'] {\n    if (connectionStrategy === ConnectionStrategy.SMS) return [Identifiers.PHONE];\n    if (connectionStrategy === ConnectionStrategy.EMAIL) return [Identifiers.EMAIL];\n    return getAllowedIdentifiers(transactionContext);\n  }\n}\n"],"names":["TransactionOverride","Transaction","isSignupEnabled","isForgotPasswordEnabled","isPasskeyEnabled","passwordPolicy","allowedIdentifiers","constructor","transactionContext","super","this","getPasswordPolicy","getAllowedIdentifiers","connectionStrategy","ConnectionStrategy","SMS","Identifiers","PHONE","EMAIL"],"mappings":"sWAUM,MAAOA,UAA4BC,EACvCC,gBACAC,wBACAC,iBACAC,eACAC,mBAEA,WAAAC,CAAYC,GACVC,MAAMD,GACNE,KAAKR,gBAAkBA,EAAgBM,GACvCE,KAAKP,wBAA0BA,EAAwBK,GACvDE,KAAKN,iBAAmBA,EAAiBI,GACzCE,KAAKL,eAAiBM,EAAkBH,GACxCE,KAAKJ,mBAAqBN,EAAoBY,sBAAsBJ,EAAoBE,KAAKG,oBAG/F,4BAAOD,CAAsBJ,EAAwCK,GACnE,OAAIA,IAAuBC,EAAmBC,IAAY,CAACC,EAAYC,OACnEJ,IAAuBC,EAAmBI,MAAc,CAACF,EAAYE,OAClEN,EAAsBJ"}