{"version":3,"file":"screen-override.js","sources":["../../../../src/screens/mfa-webauthn-platform-enrollment/screen-override.ts"],"sourcesContent":["import { Screen } from '../../models/screen';\nimport { getPublicKey } from '../../shared/screen';\n\nimport type { ScreenContext } from '../../../interfaces/models/screen';\nimport type { ScreenMembersOnMfaWebAuthnPlatformEnrollment as OverrideOptions } from '../../../interfaces/screens/mfa-webauthn-platform-enrollment';\n\n/**\n * @class ScreenOverride\n * @extends Screen\n * @description Overrides the base Screen class to provide specific data accessors for the\n * 'mfa-webauthn-platform-enrollment' screen context. It ensures that the `passkeys` data,\n * and specifically the `publicKey` options for WebAuthn enrollment, are correctly\n * typed and accessible.\n * @implements {OverrideOptions}\n */\nexport class ScreenOverride extends Screen implements OverrideOptions {\n  /**\n   * @property {PasskeyCreate['public_key'] | null} publicKey - Direct access to the `PublicKeyCredentialCreationOptions`.\n   * This is a convenience accessor for `this.data?.passkeys?.public_key`.\n   */\n  public publicKey: OverrideOptions['publicKey'];\n\n  /**\n   * Initializes a new instance of the `ScreenOverride` class for the 'mfa-webauthn-platform-enrollment' screen.\n   * Parses the screen context to extract and type the `passkeys` data and the `publicKey` options.\n   * @param {ScreenContext} screenContext - The screen context provided by Universal Login.\n   */\n  constructor(screenContext: ScreenContext) {\n    super(screenContext);\n    this.publicKey = ScreenOverride.getPublicKey(screenContext);\n  }\n\n  /**\n   * @static\n   * @method getPublicKey\n   * @description Extracts the `public_key` (PublicKeyCredentialCreationOptions) from the screen context's\n   * `data.passkeys` object.\n   * @param {ScreenContext} screenContext - The screen context containing the raw data.\n   * @returns {PasskeyCreate['public_key'] | null} The `PublicKeyCredentialCreationOptions` or `null` if not found.\n   */\n  static getPublicKey = (screenContext: ScreenContext): OverrideOptions['publicKey'] => {\n    return getPublicKey(screenContext) as OverrideOptions['publicKey'];\n  };\n}"],"names":["ScreenOverride","Screen","publicKey","constructor","screenContext","super","this","getPublicKey","static"],"mappings":"sGAeM,MAAOA,UAAuBC,EAK3BC,UAOP,WAAAC,CAAYC,GACVC,MAAMD,GACNE,KAAKJ,UAAYF,EAAeO,aAAaH,GAW/CI,oBAAuBJ,GACdG,EAAaH"}